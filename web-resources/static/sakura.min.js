const Sakura=function(t,e){if(void 0===t)throw new Error("No selector present. Define an element.");var i,a;function l(t){return t[Math.floor(Math.random()*t.length)]}function d(t,e){return Math.floor(Math.random()*(e-t+1))+t}this.el=document.querySelector(t),this.settings=(i={className:"sakura",fallSpeed:1,maxSize:14,minSize:10,delay:300,colors:[{gradientColorStart:"rgba(255, 183, 197, 0.9)",gradientColorEnd:"rgba(255, 197, 208, 0.9)",gradientColorDegree:120}]},a=e,Object.keys(i).forEach(t=>{a&&Object.prototype.hasOwnProperty.call(a,t)&&(i[t]=a[t])}),i),this.el.style.overflowX="hidden";const s=["webkit","moz","MS","o",""];function m(i,a,n){for(let e=0;e<s.length;e+=1){let t=a;s[e]||(t=a.toLowerCase()),i.addEventListener(s[e]+t,n,!1)}}function h(t){t=t.getBoundingClientRect();return 0<=t.top&&0<=t.left&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}this.createPetal=()=>{this.el.dataset.sakuraAnimId&&setTimeout(()=>{window.requestAnimationFrame(this.createPetal)},this.settings.delay);const t=l(["blow-soft-left","blow-medium-left","blow-soft-right","blow-medium-right"]),e=l(["sway-0","sway-1","sway-2","sway-3","sway-4","sway-5","sway-6","sway-7","sway-8"]),i=(.007*document.documentElement.clientHeight+Math.round(5*Math.random()))*this.settings.fallSpeed,a=[`fall ${i}s linear 0s 1`,`${t} ${(30<i?i:30)-20+d(0,20)}s linear 0s infinite`,`${e} ${d(2,4)}s linear 0s infinite`].join(", "),n=document.createElement("div");n.classList.add(this.settings.className);var s=d(this.settings.minSize,this.settings.maxSize),o=s-Math.floor(d(0,this.settings.minSize)/3),r=l(this.settings.colors);n.style.background=`linear-gradient(${r.gradientColorDegree}deg, ${r.gradientColorStart}, ${r.gradientColorEnd})`,n.style.webkitAnimation=a,n.style.animation=a,n.style.borderRadius=`${d(this.settings.maxSize,this.settings.maxSize+Math.floor(10*Math.random()))}px ${d(1,Math.floor(o/4))}px`,n.style.height=s+"px",n.style.left=Math.random()*document.documentElement.clientWidth-100+"px",n.style.marginTop=-(Math.floor(20*Math.random())+15)+"px",n.style.width=o+"px",m(n,"AnimationEnd",()=>{h(n)||n.remove()}),m(n,"AnimationIteration",()=>{h(n)||n.remove()}),this.el.appendChild(n)},this.el.setAttribute("data-sakura-anim-id",window.requestAnimationFrame(this.createPetal))};Sakura.prototype.start=function(){if(this.el.dataset.sakuraAnimId)throw new Error("Sakura is already running.");this.el.setAttribute("data-sakura-anim-id",window.requestAnimationFrame(this.createPetal))},Sakura.prototype.stop=function(t=!1){var e=this.el.dataset.sakuraAnimId;e&&(window.cancelAnimationFrame(e),this.el.setAttribute("data-sakura-anim-id","")),t||setTimeout(()=>{for(var t=document.getElementsByClassName(this.settings.className);0<t.length;)t[0].parentNode.removeChild(t[0])},this.settings.delay+50)};